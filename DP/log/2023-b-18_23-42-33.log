[2023-03-18 23:42:33] - Arguments: Namespace(beta=0.05, data_size=100, dataset_path='./data/adult.csv', delta=0.1, domain_path='./data/adult-domain.json', epsilon=100.0, iteration=500, sparse_ratio=10)
[2023-03-18 23:42:33] - ******** Initialization ********
[2023-03-18 23:42:34] - Data sparsification complete
[2023-03-18 23:42:34] - Data information: {'age': 85, 'workclass': 9, 'fnlwgt': 100, 'education-num': 16, 'marital-status': 7, 'occupation': 15, 'relationship': 6, 'race': 5, 'sex': 2, 'capital-gain': 100, 'capital-loss': 100, 'hours-per-week': 99, 'native-country': 42, 'income>50K': 2}
[2023-03-18 23:42:34] - ******** Create Dynamic Tree ********
[2023-03-18 23:42:36] - The dynamic interval tree consists of nodes: [
Node index: 1, height: 0, right_ancestor_index: 2, left_ancestor_index: None, right_child: None, left_child: None, 
 df: Empty DataFrame
Columns: [age, workclass, fnlwgt, education-num, marital-status, occupation, relationship, race, sex, capital-gain, capital-loss, hours-per-week, native-country, income>50K]
Index: []
, 
Node index: 2, height: 1, right_ancestor_index: 4, left_ancestor_index: None, right_child: 3, left_child: 1, 
 df: Empty DataFrame
Columns: [age, workclass, fnlwgt, education-num, marital-status, occupation, relationship, race, sex, capital-gain, capital-loss, hours-per-week, native-country, income>50K]
Index: []
, 
Node index: 3, height: 0, right_ancestor_index: None, left_ancestor_index: 2, right_child: None, left_child: None, 
 df:   age workclass fnlwgt education-num marital-status occupation relationship race sex capital-gain capital-loss hours-per-week native-country income>50K
0  37         0     15             6              0          6            2    4   1            0            0             39              0          0
, 
Node index: 4, height: 2, right_ancestor_index: 8, left_ancestor_index: None, right_child: 6, left_child: 2, 
 df:    age workclass fnlwgt education-num marital-status occupation relationship race sex capital-gain capital-loss hours-per-week native-country income>50K
0   37         0     15             6              0          6            2    4   1            0            0             39              0          0
1   12         0     13             9              1          7            5    4   0            0            0             24              0          0
2   37         0     22             8              1          3            1    0   0            0            0             34              0          0
3   32         1     17            11              0          5            2    0   1            0            0             39              0          0
4   28         0     22             8              1          1            3    0   0           14            0             39              0          1
5   30         0     13             2              0          7            2    0   1            0            0             39             20          0
6   20         0      9             8              0          1            2    0   1            0            0             39              0          0
7   15         0      2            13              2          5            3    0   0           14            0             49              0          1
8   13         4      7             9              2          6            3    0   1            0            0             49              0          0
9   16         0     11             8              2          7            5    0   1            0            0             39              0          0
10  27         1     18            13              1          4            5    0   0            0            0             44              0          1
11  43         0     10             8              0          3            2    0   1            0            0             47              0          0
12  32         0     10            11              1          4            5    0   0            0            0             39              2          0
13  19         0      3            10              0          2            2    0   1            0            0             39              3          0
14   2         0     14             8              2          2            1    0   0            0            0             29             41          0
15  37         0     10             8              0          8            0    0   0            0            0             39              0          1
16  32         0     15             6              2          7            5    0   1            0            0             39              3          0
17  14         5      8            12              0          5            2    1   1            0            0             39              7          1
18  41         3     22            12              0          5            2    4   1            0            0             39              0          1
19  26         0      7            15              0          5            2    0   1            0            0             44              0          1
, 
Node index: 5, height: 0, right_ancestor_index: 6, left_ancestor_index: None, right_child: None, left_child: None, 
 df: Empty DataFrame
Columns: [age, workclass, fnlwgt, education-num, marital-status, occupation, relationship, race, sex, capital-gain, capital-loss, hours-per-week, native-country, income>50K]
Index: []
]
[2023-03-18 23:42:36] - Infinite Private Partitioning: s0: 0, j: 5, T: 65536, beta: 2.883135391252616e-07, C: 1878.9903538693616, epsilon: 0.1, 
 segment: [0, 2, 4, 16, 256, 1199]
[2023-03-18 23:42:36] - ******** Testing Started ********
[2023-03-18 23:42:36] - At node with index 4, we implement queries on cliques dict_keys(['age']):
[2023-03-18 23:42:36] - Ground truth: gives answer: 
[  2 184  54   2  96 150 166   0   4  66 156   6 178 166 198  32  14   0
 188 188 168 112   0 118  66   4 104   2 124  56  12   0   0   8  14  98
  34   0   0  80   0  14   0  74  60  14  10 108 164  42 172 196  32 100
   0 146 174   0 188   8 164 172   2   0  46  14 182  76  76  64   2 118
  82  18 182 138 110  86  64 170  12   0  66  42   0   6  38   2   0   0
  32  24   8  62 164 166 118 150   0  68]
[2023-03-18 23:42:42] - Golden standard: data vector for original dataset is: 
[ 0.  0.  6.  6.  2.  2.  2.  6.  2.  8.  0.  2.  6.  8. 12. 10.  8.  2.
  4.  4.  2.  8.  4.  4.  6.  4.  4.  8.  4.  2.  4.  4. 10. 10.  4.  0.
  4. 10.  4.  0.  2.  4.  0.  4.  0.  0.  0.  0.  0.  0.  0.  2.  0.  0.
  0.  0.  0.  0.  0.  0.  0.  0.  0.  2.  0.  0.  0.  0.  0.  0.  0.  0.
  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.]
[2023-03-18 23:42:42] - Golden standard: data vector for approximate dataset is: 
[ 0.  0.  6.  6.  2.  2.  2.  6.  2.  8.  0.  2.  6.  8. 12. 10.  8.  2.
  4.  4.  2.  8.  4.  4.  6.  4.  4.  8.  4.  2.  4.  4. 10. 10.  4.  0.
  4. 10.  4.  0.  2.  4.  0.  4.  0.  0.  0.  0.  0.  0.  0.  2.  0.  0.
  0.  0.  0.  0.  0.  0.  0.  0.  0.  2.  0.  0.  0.  0.  0.  0.  0.  0.
  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.]
[2023-03-18 23:42:42] - epsilon 100.0
[2023-03-18 23:42:42] - Golden standard: gives answer: 
[  3 184  54   2  97 150 166   1   4  67 156   6 178 166 198  33  15   1
 188 188 168 112   0 118  66   5 104   3 124  56  12   0   0   9  14  98
  34   1   0  80   0  14   0  74  61  14  10 108 164  42 172 196  33 101
   0 146 174   0 189   9 165 172   2   0  46  15 182  76  76  64   3 118
  82  19 182 139 111  87  65 170  12   0  66  42   0   6  38   3   0   1
  32  24   8  62 165 167 119 150   0  68]
[2023-03-18 23:42:42] - Mechanism: 
      age workclass fnlwgt education-num marital-status occupation relationship race  sex capital-gain capital-loss hours-per-week native-country income>50K  update
0     NaN       NaN    NaN           NaN            NaN        NaN          NaN  NaN  NaN          NaN          NaN            NaN            NaN        NaN     NaN
1     NaN       NaN    NaN           NaN            NaN        NaN          NaN  NaN  NaN          NaN          NaN            NaN            NaN        NaN     NaN
2     NaN       NaN    NaN           NaN            NaN        NaN          NaN  NaN  NaN          NaN          NaN            NaN            NaN        NaN     NaN
3     NaN       NaN    NaN           NaN            NaN        NaN          NaN  NaN  NaN          NaN          NaN            NaN            NaN        NaN     NaN
4     NaN       NaN    NaN           NaN            NaN        NaN          NaN  NaN  NaN          NaN          NaN            NaN            NaN        NaN     NaN
...   ...       ...    ...           ...            ...        ...          ...  ...  ...          ...          ...            ...            ...        ...     ...
1195   21         0     18            13              0          4            0    0    0            0            0             39              0          0     1.0
1196   18         0     15             3              0         10            2    2    1            0            0             44             20          0    -1.0
1197   21         0     18            13              0          4            0    0    0            0            0             39              0          0    -1.0
1198  NaN       NaN    NaN           NaN            NaN        NaN          NaN  NaN  NaN          NaN          NaN            NaN            NaN        NaN     NaN
1199   27         0      7             6              0         10            2    0    1            0           40             39              0          0    -1.0

[1200 rows x 15 columns]
[2023-03-18 23:42:42] - Mechanism: epsilon during the algorithm 15
[2023-03-18 23:42:49] - Mechanism: gives answer 
[ 221  726  364   14  661  780  823   96   14  754  627  168  586  754
  728  585  516  220  561  853  491  305   97  496  533  293  313  237
  440  133  337    0   84  392  183  507  294  124   99  219  141   42
   28  230  587  379   30  549  599  210  502  672  557  689   13  486
  784  165 1129  419  823  643   70    0  114  516  684  380  366  186
  320  524  246  502  797  971  868  812  657  488  323  179  198  144
   97  253  142  179   28  110  140   98  112  393  851  988  761  418
    0  189]
[2023-03-18 23:42:49] - The testing is implemented at age
[2023-03-18 23:42:49] - Ground truth: gives answer: 
[  2 184  54   2  96 150 166   0   4  66 156   6 178 166 198  32  14   0
 188 188 168 112   0 118  66   4 104   2 124  56  12   0   0   8  14  98
  34   0   0  80   0  14   0  74  60  14  10 108 164  42 172 196  32 100
   0 146 174   0 188   8 164 172   2   0  46  14 182  76  76  64   2 118
  82  18 182 138 110  86  64 170  12   0  66  42   0   6  38   2   0   0
  32  24   8  62 164 166 118 150   0  68]
[2023-03-18 23:42:49] - Golden standard: gives answer: 
[  3 184  54   2  97 150 166   1   4  67 156   6 178 166 198  33  15   1
 188 188 168 112   0 118  66   5 104   3 124  56  12   0   0   9  14  98
  34   1   0  80   0  14   0  74  61  14  10 108 164  42 172 196  33 101
   0 146 174   0 189   9 165 172   2   0  46  15 182  76  76  64   3 118
  82  19 182 139 111  87  65 170  12   0  66  42   0   6  38   3   0   1
  32  24   8  62 165 167 119 150   0  68]
[2023-03-18 23:42:49] - Mechanism: gives answer: 
[ 221  726  364   14  661  780  823   96   14  754  627  168  586  754
  728  585  516  220  561  853  491  305   97  496  533  293  313  237
  440  133  337    0   84  392  183  507  294  124   99  219  141   42
   28  230  587  379   30  549  599  210  502  672  557  689   13  486
  784  165 1129  419  823  643   70    0  114  516  684  380  366  186
  320  524  246  502  797  971  868  812  657  488  323  179  198  144
   97  253  142  179   28  110  140   98  112  393  851  988  761  418
    0  189]
[2023-03-18 23:42:49] - Mean Square Error of ground truth and golden standard: 0.29
[2023-03-18 23:42:49] - Mean Square Error of ground truth and mechanism: 156435.37
[2023-03-18 23:42:49] - Mean Square Error of golden standard and mechanism: 156152.06
[2023-03-18 23:42:49] - Measurement1: 0.03725516758928833
[2023-03-18 23:42:49] - Measurement2: 0.9959750173490632
[2023-03-18 23:42:49] - ******** Testing Finished ********
